
 <mat-toolbar color="primary" class="navbar">
  <!-- Hamburger (Mobile only) -->
  <button mat-icon-button (click)="toggleSidebar()" class="menu-button" *ngIf="!isDesktop">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Admin Toggle (Desktop) -->
  <button *ngIf="isDesktop && userService.roleMatch(['Admin'])" mat-icon-button (click)="toggleSidebar()">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Employer Toggle (Desktop) -->
  <button *ngIf="isDesktop && userService.roleMatch(['Employer'])" mat-icon-button (click)="toggleSidebar()">
    <mat-icon>menu</mat-icon>
  </button>

  <button *ngIf="isDesktop && userService.roleMatch(['Student'])" mat-icon-button (click)="toggleSidebar()">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Logo -->
  <span style="margin-left: 10px;" class="logo" routerLink="/">
    <img src="assets/logo.png" alt="Logo" width="30" height="30" class="d-inline-block align-text-top" >
    Zidio-Connect
  </span>

  <!-- Top nav links (optional desktop only) -->
  <div class="topbar" *ngIf="isDesktop">
    <button mat-raised-button routerLink="/" color="primary">Home</button>
    <button mat-raised-button color="primary" routerLink="/courses">Courses</button>
    <button mat-raised-button color="primary" routerLink="/internships">Internships</button>
    <button mat-raised-button color="primary" routerLink="/jobs">Jobs</button>
    <button mat-raised-button color="accent" *ngIf="userService.roleMatch(['Admin'])" routerLink="/admin">Admin Dashboard</button>
    <button mat-raised-button color="accent" *ngIf="userService.roleMatch(['Student'])" routerLink="/student">Student Dashboard</button>
    <button mat-raised-button color="accent" *ngIf="userService.roleMatch(['Employer'])" routerLink="/employer">Employer Dashboard</button>
  </div>

  <span class="space-buttons"></span>

  <!-- Right-side buttons -->
  <button mat-raised-button color="primary" routerLink="/about">About</button>
  <button mat-raised-button color="primary" routerLink="/contact">Contact</button>
  <button *ngIf="!isLoggedIn()" routerLink="/login" mat-raised-button color="accent">Login</button>
  <button *ngIf="isLoggedIn()" (click)="logout()" mat-raised-button color="warn">Logout</button>
</mat-toolbar>

<!-- Sidenav Container -->
<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #sidenav
    [mode]="isSmallScreen ? 'over' : 'side'"
    class="sidenav"
    [(opened)]="sidebarOpen"
    (closedStart)="sidebarOpen = false"
  >
<!-- Show these on small screen when user is not logged in -->
<ng-container *ngIf="isSmallScreen">
  <button mat-button routerLink="/" (click)="sidenav.close()"><mat-icon>home</mat-icon>Home</button>
  <button mat-button routerLink="/courses" (click)="sidenav.close()"><mat-icon>book</mat-icon>Courses</button>
  <button mat-button routerLink="/internships" (click)="sidenav.close()"><mat-icon>school</mat-icon>Internships</button>
  <button mat-button routerLink="/jobs" (click)="sidenav.close()"><mat-icon>work</mat-icon>Jobs</button>
</ng-container>

   <ng-container *ngIf="!isLoggedIn()">
      <button mat-button routerLink="/login" (click)="sidenav.close()">
        <mat-icon>login</mat-icon>Login
      </button>
    </ng-container>

    <ng-container *ngIf="isLoggedIn()">
    <!-- Admin Links -->
    <ng-container *ngIf="userService.roleMatch(['Admin'])">
      <button mat-button routerLink="/admin"><mat-icon>dashboard</mat-icon>Dashboard</button>
      <button mat-button routerLink="/admin/users">
        <mat-icon>supervisor_account</mat-icon>User Management
      </button>
      <button mat-button routerLink="/admin/employers">
        <mat-icon>business_center</mat-icon>Employer Management
      </button>
      <button mat-button routerLink="/admin/students">
        <mat-icon>school</mat-icon>Student Management
      </button>
      <button mat-button routerLink="/admin/courses">
        <mat-icon>book</mat-icon>Manage Courses
      </button>
      <button mat-button routerLink="/admin/course">
        <mat-icon>menu_book</mat-icon>Manage Syllabus
      </button>
      <button mat-button routerLink="/admin/internships">
        <mat-icon>school</mat-icon>Internship Moderation
      </button>
      <button mat-button routerLink="/admin/jobs">
        <mat-icon>work</mat-icon>Job Moderation
      </button>
      <button mat-button routerLink="/admin/notifications">
        <mat-icon
          matBadge="{{ unreadCount }}"
          matBadgeColor="warn"
          [matBadgeHidden]="unreadCount === 0"
          matBadgeOverlap="false"
        >
          notifications
        </mat-icon>
        <span>Notifications</span>
      </button>
      <button mat-button routerLink="admin/course/enroll">
        <mat-icon>assignment</mat-icon>Course Enrollments
      </button>

      <!-- Messages Menu -->
      <button mat-button [matMenuTriggerFor]="messagesMenu">
        <mat-icon>mail</mat-icon>Messages<mat-icon>expand_more</mat-icon>
      </button>
      <mat-menu #messagesMenu="matMenu">
        <button mat-menu-item routerLink="/admin/compose">
          <mat-icon>edit</mat-icon>Compose
        </button>
        <button mat-menu-item routerLink="/admin/inbox">
          <mat-icon>inbox</mat-icon>Inbox
        </button>
        <button mat-menu-item routerLink="/admin/sent">
          <mat-icon>send</mat-icon>Sent
        </button>
      </mat-menu>
      <button mat-button routerLink="/admin/reports">
        <mat-icon>report</mat-icon>Reports & Feedback
      </button>
      <button mat-button routerLink="/submit-report">
        <mat-icon>feedback</mat-icon>Submit Report
      </button>
    </ng-container>

    <!-- Employer Links -->
    <ng-container *ngIf="userService.roleMatch(['Employer'])">
      <button mat-button routerLink="/employer"><mat-icon>dashboard</mat-icon>Dashboard</button>
      <button mat-button [matMenuTriggerFor]="messagesMenu">
        <mat-icon>mail</mat-icon>Messages<mat-icon>expand_more</mat-icon>
      </button>
      <mat-menu #messagesMenu="matMenu">
        <button mat-menu-item routerLink="/employer/compose">
          <mat-icon>edit</mat-icon>Compose
        </button>
        <button mat-menu-item routerLink="/employer/messages">
          <mat-icon>inbox</mat-icon>Inbox
        </button>
        <button mat-menu-item routerLink="/employer/sent">
          <mat-icon>send</mat-icon>Sent
        </button>
      </mat-menu>
      <button mat-button routerLink="/employer/jobs"><mat-icon>work</mat-icon>Manage Jobs</button>
      <button mat-button routerLink="/employer/internships"><mat-icon>school</mat-icon>Manage Internships</button>
      <button mat-button routerLink="/employer/interviews"><mat-icon>video_call</mat-icon>Manage Interviews</button>
      <button mat-button routerLink="/employer/applications"><mat-icon>assignment</mat-icon>Manage Applications</button>
      <button mat-button routerLink="/submit-report"><mat-icon>feedback</mat-icon>Submit Report</button>
    </ng-container>

    <!-- Student Links -->
    <ng-container *ngIf="userService.roleMatch(['Student'])">
      <button mat-button routerLink="/student"><mat-icon>dashboard</mat-icon>Dashboard</button>
      <button mat-button [matMenuTriggerFor]="messagesMenu">
        <mat-icon>mail</mat-icon>Messages<mat-icon>expand_more</mat-icon>
      </button>
      <mat-menu #messagesMenu="matMenu">
        <button mat-menu-item routerLink="/student/student-compose">
          <mat-icon>edit</mat-icon>Compose
        </button>
        <button mat-menu-item routerLink="/student/inbox">
          <mat-icon>inbox</mat-icon>Inbox
        </button>
        <button mat-menu-item routerLink="/student/sent">
          <mat-icon>send</mat-icon>Sent
        </button>
      </mat-menu>
      <button mat-button routerLink="/student/allcourses"><mat-icon>book</mat-icon>My Courses</button>
      <button mat-button routerLink="/student/allapplications"><mat-icon>assignment</mat-icon>My Applications</button>
    </ng-container>

    <button mat-button (click)="logout(); sidenav.close()">
        <mat-icon>logout</mat-icon>Logout
      </button>
    </ng-container>

  </mat-sidenav>

  <mat-sidenav-content>
    <div class="loading-container" *ngIf="loading">
  <div class="bouncing-loader">
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
    <div *ngIf="!loading">
    <router-outlet></router-outlet>
  </div>
  </mat-sidenav-content>
</mat-sidenav-container>
